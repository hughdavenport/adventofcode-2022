class Foo : S {
	public function foo(this) {
		println("OK")
	}
}

class S {
	function foo(this) {
		println("BAD")
	}

	public function bar(this, anon foo: Foo? = None) {
		if foo.has_value() {
			foo!.foo()
		} else {
			.foo()
		}
	}

}

function main() {
	let f = Foo()
	f.bar(f)
	f.bar()
}
